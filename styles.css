:root {
  --bg: #06080f;
  --panel: #0c1220;
  --panel-2: #0a0f1a;
  --text: #e6ecff;
  --muted: #9fb0d0;
  --accent: #5aa7ff;
  --accent-2: #8b5aff;
  --danger: #ff4d6d;
  --ok: #59ffa5;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--text);
  background: radial-gradient(1200px 600px at 70% -10%, #102040, transparent),
              radial-gradient(800px 500px at -10% 110%, #281050, transparent),
              var(--bg);
}

#app { min-height: 100%; display: flex; flex-direction: column; }
.app-header, .app-footer { padding: 16px 20px; background: linear-gradient(180deg, var(--panel), transparent); }
.app-footer { background: linear-gradient(0deg, var(--panel), transparent); display: flex; align-items: center; gap: 12px; }
.logo-row { display: flex; align-items: center; gap: 12px; }
.logo { font-size: 24px; filter: drop-shadow(0 0 8px #5aa7ff66); }
.title { margin: 0; font-weight: 900; letter-spacing: 0.3px; }
.subtitle { margin: 0; color: var(--muted); }

#view-root { flex: 1; display: grid; place-items: center; padding: 20px; }
.view { display: none; width: min(920px, 100%); }
.view.visible { display: block; }

.hero { background: linear-gradient(180deg, var(--panel), var(--panel-2)); padding: 32px; border-radius: 16px; border: 1px solid #2a3550; box-shadow: 0 10px 40px #0008; text-align: center; }
.ominous { font-family: "Space Grotesk", Inter, sans-serif; font-size: 28px; margin-top: 8px; }
.tagline { color: var(--muted); }
.disclaimer { margin-top: 12px; color: var(--muted); font-size: 12px; }

.cta, .primary, .secondary, .danger, .link {
  background: var(--accent);
  color: #05101e;
  border: none;
  padding: 12px 16px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 120ms ease, background 120ms ease, opacity 120ms;
}
.cta:hover, .primary:hover { transform: translateY(-1px); }
.secondary { background: #1f2a44; color: var(--text); }
.danger { background: var(--danger); color: #1b0206; }
.link { background: transparent; color: var(--muted); text-decoration: underline; padding: 6px 8px; border-radius: 8px; }
.link:hover { color: var(--text); }
button:disabled { opacity: 0.5; cursor: not-allowed; }

.hud { display: flex; align-items: center; justify-content: space-between; gap: 16px; margin-bottom: 16px; }
.hud-left, .hud-right { display: flex; align-items: center; gap: 16px; }
.level-indicator { font-weight: 700; }
.timer { color: var(--muted); }
.patience { display: flex; align-items: center; gap: 8px; color: var(--muted); }
.meter { width: 160px; height: 10px; background: #1b2742; border-radius: 99px; overflow: hidden; border: 1px solid #314066; }
#patience-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition: width 180ms linear; }

#challenge-container { background: linear-gradient(180deg, var(--panel), var(--panel-2)); border: 1px solid #2a3550; border-radius: 16px; min-height: 320px; padding: 24px; box-shadow: 0 10px 40px #0008; }
.controls { display: flex; gap: 12px; margin-top: 16px; }

.board { background: linear-gradient(180deg, var(--panel), var(--panel-2)); padding: 24px; border-radius: 16px; border: 1px solid #2a3550; box-shadow: 0 10px 40px #0008; width: min(720px, 100%); }
.board ul { list-style: none; padding: 0; margin: 12px 0; }
.board li { display: flex; justify-content: space-between; padding: 8px 10px; border-bottom: 1px dashed #2a3550; color: var(--muted); }
.smug { color: var(--muted); }

.glitch { margin-left: auto; font-size: 12px; color: #547; animation: flicker 4s infinite; }
@keyframes flicker {
  0%, 19%, 21%, 23%, 80%, 100% { opacity: 0.85; }
  20%, 22% { opacity: 0.3; }
}

.moving { position: relative; }
.moving:hover { transform: translateX(0) translateY(0); }
.moving:active { transform: translateY(1px); }

.popup {
  position: fixed;
  inset: auto 20px 20px auto;
  background: #102042;
  border: 1px solid #2a3550;
  color: var(--text);
  padding: 10px 12px;
  border-radius: 10px;
  box-shadow: 0 10px 30px #0008;
  z-index: 50;
  animation: slide-in 220ms ease;
}
@keyframes slide-in { from { transform: translateY(6px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

.progress {
  width: 100%;
  height: 10px;
  background: #13254a;
  border: 1px solid #2a3550;
  border-radius: 20px;
  overflow: hidden;
}
.progress > div { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--ok)); transition: width 200ms ease; }

.challenge-title { margin-top: 0; }
.challenge-desc { color: var(--muted); }
.center { text-align: center; }
.grid { display: grid; gap: 12px; }
.grid.emoji { grid-template-columns: repeat(auto-fill, minmax(36px, 1fr)); max-height: 240px; overflow: auto; }
.emoji span { font-size: 24px; line-height: 32px; filter: drop-shadow(0 0 6px #0006); }

.input, textarea {
  background: #0e1730;
  color: var(--text);
  border: 1px solid #2a3550;
  border-radius: 10px;
  padding: 10px 12px;
}
textarea { width: 100%; min-height: 140px; }

.pwd-box { display: grid; gap: 10px; }
.shrek-box { display: grid; place-items: center; height: 220px; }
.shrek { width: 140px; height: 140px; border-radius: 50%; background: radial-gradient(circle at 45% 40%, #7acb45, #4f8f24); box-shadow: inset 0 -10px 20px #2f6615, 0 10px 30px #0008; position: relative; }
.shrek::before, .shrek::after { content: ""; position: absolute; width: 18px; height: 18px; border-radius: 50%; background: #1b2b0f; top: 50px; }
.shrek::before { left: 42px; }
.shrek::after { right: 42px; }

.slider-row { display: flex; align-items: center; gap: 12px; }
.slider-row input[type="range"] { width: 100%; }

.hidden { display: none !important; }


